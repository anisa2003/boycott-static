import{h as d}from"./moment.9709ab41.js";import{_ as v,u as g,r as m,o as _,c as h,a as t,b as c,j as y,n as b,e as l,k as a}from"./index.686e4587.js";import{V as x,I as k}from"./ImageContainer.18448bfb.js";const w={name:"CreateBoycott",components:{VueCtkDateTimePicker:x,ImageContainer:k},data(){return{title:"",resume:"",description:"",site:"",year:"",dateStart:d(),dateEnd:null,error:!1,images:[]}},methods:{async create(){let r=d(this.dateStart,"MM DD YYYY"),e=d(this.dateEnd,"MM DD YYYY");e.isValid()||(e="Non d\xE9fini");const u={title:this.title,resume:this.resume,description:this.description,site:this.site,year:this.year,dateStart:r,dateEnd:e,image:this.images},o=await fetch("https://boycott-service.onrender.com/api/boycott",{method:"POST",headers:{"Content-type":"application/json","x-access-token":localStorage.accessToken},body:JSON.stringify(u)}),i=await o.json(),n=g();o.status==201?(n.success(i.message),this.$router.push(`/boycott/${i.boycott._id}`)):n.error(i.message)},addImage(r){this.images.push(r)}}},V={id:"main","data-aos":"fade","data-aos-delay":"500"},D=t("div",{class:"page-header d-flex align-items-center"},[t("div",{class:"container position-relative"},[t("div",{class:"row d-flex justify-content-center"},[t("div",{class:"col-lg-6 text-center"},[t("h2",null,"Cr\xE9er un nouveau boycott"),t("p",null,"Odio et unde deleniti. Deserunt numquam exercitationem. Officiis quo odio sint voluptas consequatur ut a odio voluptatem. Sit dolorum debitis veritatis natus dolores. Quasi ratione sint. Sit quaerat ipsum dolorem.")])])])],-1),Y={id:"contact",class:"contact"},C={class:"container"},S={class:"row gy-4 justify-content-center mt-4"},M={class:"col-lg-9"},T={class:"row"},E={class:"col-lg-6"},I={class:"info-item d-flex"},N=t("i",{class:"bi bi-flag flex-shrink-0"},null,-1),j={class:"w-100"},B=t("h4",null,"Date du d\xE9but:",-1),U={class:"col-lg-6"},q={class:"info-item d-flex"},A=t("i",{class:"bi bi-flag-fill flex-shrink-0"},null,-1),O={class:"w-100"},P=t("h4",null,"Date de la fin:",-1),L={class:"row justify-content-center mt-4"},J={class:"col-lg-9"},Q={class:"my-3"},R=t("div",{class:"loading"},"Loading",-1),z={key:0,class:"error-message"},F={class:"form-group mt-3"},G={class:"form-group mt-3"},H={class:"form-group mt-3"},K={class:"row my-4 justify-content-center"},W={class:"col-lg-6"},X={class:"info-item d-flex"},Z=t("i",{class:"bi bi-globe flex-shrink-0"},null,-1),$={class:"w-100"},tt=t("h4",null,"Site web:",-1),et={class:"col-lg-6"},ot={class:"info-item d-flex"},st=t("i",{class:"bi bi-brightness-alt-high flex-shrink-0"},null,-1),it={class:"w-100"},nt=t("h4",null,"Ann\xE9e :",-1),lt=t("div",{class:"text-center mt-4"},[t("button",{type:"submit"},"Cr\xE9er le boycott")],-1);function at(r,e,u,p,o,i){const n=m("VueCtkDateTimePicker"),f=m("ImageContainer");return _(),h("main",V,[D,t("section",Y,[t("div",C,[t("div",S,[t("div",M,[t("div",T,[t("div",E,[t("div",I,[N,t("div",j,[B,c(n,{modelValue:o.dateStart,"onUpdate:modelValue":e[0]||(e[0]=s=>o.dateStart=s),id:"dateStart",format:"MM-DD-YYYY",formatted:"ll",onlyDate:"true",noLabel:"true",dark:"true",buttonNowTranslation:"Maintenant",buttonColor:"#27a776",color:"#27a776",locale:"fr"},null,8,["modelValue"])])])]),t("div",U,[t("div",q,[A,t("div",O,[P,c(n,{modelValue:o.dateEnd,"onUpdate:modelValue":e[1]||(e[1]=s=>o.dateEnd=s),id:"dateEnd",format:"MM-DD-YYYY",formatted:"ll",onlyDate:"true",noLabel:"true",dark:"true",buttonNowTranslation:"Maintenant",buttonColor:"#27a776",color:"#27a776",locale:"fr"},null,8,["modelValue"])])])])])])]),t("div",L,[t("div",J,[t("form",{onSubmit:e[7]||(e[7]=y((...s)=>i.create&&i.create(...s),["prevent"])),method:"post",role:"form",class:"form",enctype:"multipart/form-data"},[t("div",Q,[R,o.error?(_(),h("div",z)):b("",!0)]),t("div",F,[l(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=s=>o.title=s),placeholder:"Nom du produit"},null,512),[[a,o.title]])]),t("div",G,[l(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=s=>o.resume=s),placeholder:"Resum\xE9"},null,512),[[a,o.resume]])]),t("div",H,[l(t("textarea",{class:"form-control","onUpdate:modelValue":e[4]||(e[4]=s=>o.description=s),rows:"5",placeholder:"Description"},null,512),[[a,o.description]])]),c(f,{images:o.images,onImageAdded:i.addImage},null,8,["images","onImageAdded"]),t("div",K,[t("div",W,[t("div",X,[Z,t("div",$,[tt,l(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=s=>o.site=s),placeholder:"Site web du produit"},null,512),[[a,o.site]])])])]),t("div",et,[t("div",ot,[st,t("div",it,[nt,l(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=s=>o.year=s),placeholder:"Ann\xE9e de cr\xE9ation"},null,512),[[a,o.year]])])])])]),lt],32)])])])])])}const ut=v(w,[["render",at]]);export{ut as default};
